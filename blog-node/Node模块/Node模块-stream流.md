---
title: Stream流
---

[TOC]

## Stream 是什么

Stream 是一个抽象接口，**Node 中有很多对象实现了这个接口**。例如，对 http 服务器发起请求的 request 对象就是一个 Stream，还有 stdout（标准输出）。

Node.js，Stream 有四种流类型：

1. Readable - 可读操作。
2. Writable - 可写操作。
3. Duplex - 可读可写操作.
4. Transform - 操作被写入数据，然后读出结果。

**所有的 Stream 对象都是 EventEmitter 的实例**。常用的事件有：

1. data - 当有数据可读时触发。
2. end - 没有更多的数据可读时触发。
3. error - 在接收和写入过程中发生错误时触发。
4. finish - 所有数据已被写入到底层系统时触发。

## 主要操作

1. 从流中读取数据；
2. 写入流，写入到本地文件；
3. 管道流，管道**提供了一个输出流到输入流的机制**。通常我们用于从一个流中获取数据并将数据传递到另外一个流中。
4. 链式流，链式是通过连接输出流到另外一个流并创建多个流操作链的机制。链式流一般用于管道操作。
